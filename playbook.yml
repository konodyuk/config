#!/usr/bin/env ansible-playbook
---
- hosts: localhost
  connection: local

  vars_files:
    - default.config.yml

  tasks:
    - debug:
        msg: Check we are running in the directory of the script
      failed_when: not ansible_env.PWD.endswith('/config')
    - include_tasks: tasks/setup.yml
      tags: always
    - include_tasks: tasks/sudo-touchid.yml
      tags: touchid
    - include_tasks: tasks/dotfiles.yml
      tags: dotfiles
    - include_tasks: tasks/obsidian.yml
      tags: obsidian
    - include_tasks: tasks/inkscape.yml
      tags: inkscape
    - include_tasks: tasks/files.yml
      tags: term
